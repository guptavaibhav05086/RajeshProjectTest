<!-- {{buyerForm.form.valid}} -->


<div [hidden]="ShowBuyerProductMappingSection" class="container-fulid container-body">
  <div class="">
    <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '4px' }"></ngx-loading>
    <div class="pl-2"><h2>Buyer Registration </h2></div>

    <div class=" bs-wizard row mx-5 justify-content-md-center">

      <div class="col-4 bs-wizard-step active">
        <a href="Parent_AddSellerVideo.html"></a>
        <div class="progress">
          <div class="progress-bar"></div>
        </div>
        <a  class="bs-wizard-dot"></a>
        <div class="bs-wizard-info text-center">BASIC DETAILS</div>
      </div>

      <div class="col-4 bs-wizard-step ">
        <!-- complete -->
        <div class="progress">
          <div class="progress-bar"></div>
        </div>
        <a  class="bs-wizard-dot"></a>
        <div class="bs-wizard-info text-center">PRODUCT DETAILS</div>
      </div>
      <div class="col-4 bs-wizard-step " *ngIf="false">
        <!-- complete -->
        <div class="progress">
          <div class="progress-bar"></div>
        </div>
        <a  class="bs-wizard-dot"></a>
        <div class="bs-wizard-info text-center">BUYER EVALUATION
        </div>
      </div>

    </div>

    <div class="card-body content-card-body ">
      <div class="form-one">



        <form #buyerForm="ngForm">
          <!-- Basic Details -->
          <div class="row" *ngIf="newCompanyDetails.seqCode != 0 && newCompanyDetails.seqCode != undefined">
							<div class="col-4">
								<div class="form-group">
									<label for="exampleFormControlInput1" style="font-weight: 800"><b>Buyer Code: B - {{newCompanyDetails.seqCode}} </b> </label>
									
								</div>
							</div>
						</div>
          <div class="row justify-content-between ">
            <div class="col-7">
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="name">Company Name<span style="color:red">*</span></label>
                    <input type="text" class="form-control" id="name" required maxlength="500" [disabled]="isEditForm" [(ngModel)]="newCompanyDetails.companyName"
                      name="name" #name="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="businessType">Business Type<span style="color:red">*</span></label>
                    <div class="select-box">
                      <label>
                        <select class="form-control form-control-sm" id="businessType" required [(ngModel)]="newCompanyDetails.businessType" name="businessType"
                          #businessType="ngModel" aria-placeholder="select">
                          <option [ngValue]="null">Select Business Type</option>
                          <option *ngFor="let bType of newCompanyDetails.BusinessTypes" [value]="bType">{{bType}}</option>
                        </select>
                      </label>
                    </div>


                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="gstin">GSTIN<span style="color:red">*</span></label>
                    <input type="text" class="form-control" id="gstin" required [pattern]="gstinPattern" maxlength="15" [(ngModel)]="newCompanyDetails.gstIn"
                      name="gstin" [disabled]="isEditForm" #gstin="ngModel">
                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="gstin.errors?.pattern" class=" text-danger">
                      GSTIN is not in correct Format
                    </div>
                  </div>
                    <!-- <div [hidden]="gstin.valid || gstin.pristine"
                                         class="alert alert-danger">
                                         GSTIN is required
                                    </div> -->
                    {{gstin.errors?.pattern}}

                  </div>
                </div>
                <div class="col-4">

                  <div class="form-group">
                    <label for="cin">CIN Number </label>
                    <input type="text" class="form-control" id="cin" maxlength="50" [(ngModel)]="newCompanyDetails.cinNumber" name="cin" #cin="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="CPAN"> PAN Number <span style="color:red">*</span> </label>
                    <input type="text" class="form-control" id="CPAN" required [pattern]="panPattern" maxlength="10" [(ngModel)]="newCompanyDetails.panNumber"
                      name="CPAN" #CPAN="ngModel">
                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="CPAN.errors?.pattern" class=" text-danger">
                      Company PAN is not in correct Format
                    </div>
                  </div>
                    
                  </div>

                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="established">Established<span style="color:red">*</span></label>
                    <div class="select-box">
                      <label>
                        <select class="form-control form-control-sm" id="established" [(ngModel)]="newCompanyDetails.established" name="established"
                          #established="ngModel" aria-placeholder="select">
                          <option [ngValue]="null">Select  Year</option>
                          <option *ngFor="let year of newCompanyDetails.EstablishedYear" [value]="year">{{year}}</option>
                        </select>
                      </label>
                    </div>

                    
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="legalStatus">Legal Status<span style="color:red">*</span></label>
                    <div class="select-box">
                      <label>
                        <select class="form-control" id="legalStatus" required [(ngModel)]="newCompanyDetails.legalStatus" name="legalStatus" #legalStatus="ngModel">
                          <option [ngValue]="null">Select Legal Status</option>
                          <option *ngFor="let legal of newCompanyDetails.LegalStatuses" [value]="legal">{{legal}}</option>
                        </select>
                      </label>
                    </div>

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="WURL">WebSite URL </label>
                    <input type="text" class="form-control" id="WURL" maxlength="500" [(ngModel)]="newCompanyDetails.websiteUrl" name="WURL"
                      #WURL="ngModel">

                  </div>
                </div>
              </div>
              <div class="row">


                <div class="col-4">
                  <div class="form-group">
                    <label class="checkbox checkbox-primary mt-3" for="loanAssistance">
                      <input type="checkbox" class="form-control" id="loanAssistance" [(ngModel)]="newCompanyDetails.loanAssistanceRequired" name="loanAssistance"
                        #loanAssistance="ngModel">
                      <span class="check-mark"></span>Buyer require loan assistance</label>
                  </div>
                </div>
                <div class="col-4">

                  <div class="form-group">
                    <label for="loanAmount">Loan Amount (&#8377;)</label>

                    <input type="number" class="form-control" id="loanAmount" [(ngModel)]="newCompanyDetails.loanAmount" name="loanAmount" #loanAmount="ngModel"
                      [disabled]="newCompanyDetails.loanAssistanceRequired === false">

                  </div>

                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="mNumber">Mobile Number<span style="color:red">*</span></label>
                    <input type="number" class="form-control" id="mNumber" maxlength="10" required placeholder="+91 " (change)="validateCompanyBasicDetails('mobile','mNumber')"
                      [(ngModel)]="newCompanyDetails.mobileNumber" name="mNumber" [disabled]="isEditForm" #mNumber="ngModel"
                      [ngClass]="{'ng-invalid':!newCompanyDetails.isMobileValid}">
                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="!newCompanyDetails.isMobileValid" class=" text-danger">
                      Mobile Number is not Valid
                    </div>

                      </div>
                    


                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="lNumber">Landline Number </label>
                    <input type="number" class="form-control" id="lNumber" placeholder="" [maxlength]="15" [(ngModel)]="newCompanyDetails.landLineNumber"
                      name="lNumber" #lNumber="ngModel" [ngClass]="{'ng-invalid':!newCompanyDetails.isLandlineVaid}">

                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="!newCompanyDetails.isLandlineVaid" class=" text-danger">
                      Landline Number can be max 15 digits
                    </div>
                      </div>
                   
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="bemail">Email id <span style="color:red">*</span></label>
                    <input type="text" class="form-control" required id="bemail" maxlength="250" (change)="validateCompanyBasicDetails('email','bemail')"
                      [(ngModel)]="newCompanyDetails.emailId" name="bemail" [disabled]="isEditForm" #bemail="ngModel">
                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="!newCompanyDetails.isEmailValid && !bemail.pristine" class="text-danger">
                      Email Id is incorrect
                    </div>
</div>  
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="exampleFormControlInput1">Mobile App Password<span style="color:red">*</span></label>
                    <input type="password" required [(ngModel)]="newCompanyDetails.password" name="appPassword" #appPassword="ngModel" class="form-control">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <label class="checkbox checkbox-primary">
                      <input type="checkbox" class="form-control" id="notification" [(ngModel)]="newCompanyDetails.allowmSupplyToCallOrSMS" name="notification"
                        #notification="ngModel">
                      <span class="check-mark"></span>
                      Allow mSupply to make calls/send SMS to the registered mobile number

                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 up-image-body">
              <div class="row">
                <div class="col">
                  <div class="upload-image">
                    <div class="upload-image-content" id="logoInfo" *ngIf="newCompanyDetails.logoUrl === null">
                      <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                      <br> Upload Image
                    </div>
                    <div class="upload-image-content" id="logoInfo" *ngIf="newCompanyDetails.logoUrl != null">
                      <img [src]="newCompanyDetails.logoUrl" height="110px" width="110px">
                    </div>
                    <!-- <input type="file"  name="logoUpload1" id="logoUpload1" 
                                                required [(ngModel)]="newCompanyDetails.Logo"
                                                 (change)="fileSelect($event.target.files,'logoInfo')" #logoUpload1="ngModel" /> -->

                  </div>
                  <div class="mt-2 color-grey-off-light">
                    <div class="link-but">
                      <input type="file" name="logoUpload" id="logoUpload" required [(ngModel)]="newCompanyDetails.Logo" (change)="fileSelect($event.target.files,'logoInfo')"
                        #logoUpload="ngModel" />
                      <a href="">Upload Company Logo <span style="color:red">*</span></a>
                    </div>
                    Max file size 5 mb
                  </div>
                  <div *ngIf="hideErrorMessage">
                  <div *ngIf="!newCompanyDetails.isLogoImageValid" class=" text-danger">
                    Upload Company Logo
                  </div>
                  </div>
                </div>
                <div class="col">
                  <div class="upload-image">
                    <div class="upload-image-content" id="photo1" *ngIf="newCompanyDetails.photo1Url === null">
                      <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                      <br> Upload Image
                    </div>
                    <div class="upload-image-content" id="photo1" *ngIf="newCompanyDetails.photo1Url != null">
                      <img [src]="newCompanyDetails.photo1Url" height="110px" width="110px">
                    </div>
                    <!-- <input type="file" name="imageUpload1" id="imageUpload1"
                                           required [(ngModel)]="newCompanyDetails.Photo1"
                                           (change)="fileSelect($event.target.files,'photo1')"  /> -->

                  </div>
                  <div class="mt-2 color-grey-off-light">
                    <div class="link-but">
                      <input type="file" name="imageUpload" id="imageUpload" required [(ngModel)]="newCompanyDetails.Photo1" (change)="fileSelect($event.target.files,'photo1')"
                      />
                      <a href="">Upload Buyer’s Photo 1 <span style="color:red">*</span></a>
                    </div>

                    Max file size 5 mb
                  </div>
                  <div *ngIf="hideErrorMessage">
                  <div *ngIf="!newCompanyDetails.isPhoto1ImageValid" class=" text-danger">
                    Upload Buyer’s Photo 1
                  </div>
                  </div>
                </div>
                <div class="col">
                  <div class="upload-image">
                    <div class="upload-image-content" id="photo2" *ngIf="newCompanyDetails.photo2Url === null">
                      <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                      <br> Upload Image
                    </div>
                    <div class="upload-image-content" id="photo2" *ngIf="newCompanyDetails.photo2Url != null">
                      <img [src]="newCompanyDetails.photo2Url" height="110px" width="110px">
                    </div>
                    <!-- <input type="file"  name="imageUpload3" id="imageUpload3"
                                             [(ngModel)]="newCompanyDetails.Photo2"
                                           (change)="fileSelect($event.target.files,'photo2')" #imageUpload3="ngModel" /> -->

                  </div>
                  <div class="mt-2 color-grey-off-light">
                    <div class="link-but">
                      <input type="file" name="imageUpload2" id="imageUpload2" required [(ngModel)]="newCompanyDetails.Photo2" (change)="fileSelect($event.target.files,'photo2')"
                        #imageUpload2="ngModel" />
                      <a href="">Upload Buyer’s Photo 2 <span style="color:red">*</span></a>
                    </div>
                    Max file size 5 mb
                  </div>
                  <div *ngIf="hideErrorMessage">
                  <div *ngIf="!newCompanyDetails.isPhoto2ImageValid" class=" text-danger">
                    Please Upload Image Only
                  </div>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!-- End Basic Details Section -->

          <!-- Proprietor Region -->
          <hr/>
          <h3 class="header mt-5" for="ProprietorLabel">Proprietor / Partner Details</h3>
          <div *ngFor="let item of proprietorList;let j=index">
            <div class="row ">
              <div class="col-6">
                <h3 class="sub">Proprietor / Partner {{j+1}}</h3>
              </div>
              <div class="col-6 text-right">
                <button type="button" class="btn btn-outline-dark text-left mr-3 " (click)="removeProprietorSection(item.ProprietorID)" *ngIf="j > 0">
                  <i class="fa fa-trash" aria-hidden="true"></i> Remove</button>
                <button type="button" class="btn btn-outline-primary" (click)="addNewPropriterSection()"> Add Proprietor/Partner</button>
              </div>
            </div>
            <div class="row">
              <div class="col-7">
                <div class="row">
                  <div class="col-4">
                    <div class="form-group">
                      <label for="pName">Proprietor Name </label>
                      <input type="text" class="form-control" id="pName{{j}}" maxlength="250" [(ngModel)]="item.name" name="pName{{j}}">

                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-8">

                    <div class="form-group">
                      <label for="PropaLine1">Address 1 </label>
                      <input type="text" class="form-control" id="PropaLine1{{j}}" maxlength="250" [(ngModel)]="item.address.line1" name="PropaLine1{{j}}"
                        #PropaLine1="ngModel">

                    </div>
                  </div>

                </div>
                <div class="row">
                  <div class="col-8">

                    <div class="form-group">
                      <label for="PropaLine2">Address 2 </label>
                      <input type="text" class="form-control" id="PropaLine2{{j}}" maxlength="250" [(ngModel)]="item.address.line2" name="PropaLine2{{j}}"
                        #PropaLine2="ngModel">

                    </div>
                  </div>

                </div>
                <div class="row">
                  <div class="col-4">
                    <div class="form-group">
                      <label for="Propstate">State</label>
                      <div class="select-box">
                        <label>
                          <select class="form-control form-control-sm" id="Propstate{{j}}" [(ngModel)]="item.address.state" name="Propstate{{j}}" name="Propstate"
                            #Propstate="ngModel" (change)="validateProprietor(item.ProprietorID,'state',j)">
                            <option [ngValue]="null">Select State</option>
                            <option *ngFor="let itemState of item.states" [value]="itemState._id">{{itemState.name}}</option>
                          </select>
                        </label>
                      </div>


                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="propCity">City</label>
                      <div class="select-box">
                        <label>
                          <select class="form-control form-control-sm" id="propCity{{j}}" [disabled]="item.selectedCities.length === 0" [(ngModel)]="item.address.city"
                            name="propCity{{j}}" #propCity="ngModel" (change)="validateProprietor(item.ProprietorID,'city',j)">
                            <option [ngValue]="null">Select City</option>
                            <option *ngFor="let city of item.selectedCities" [value]="city._id">{{city.name}}</option>
                          </select>
                        </label>
                      </div>




                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="proPinCode">Pin Code </label>
                      <input type="number" class="form-control" id="proPinCode{{j}}" maxlength="6" [(ngModel)]="item.address.pincode" name="proPinCode{{j}}"
                        (change)="validateProprietor(item.ProprietorID,'pin',j)" #proPinCode="ngModel">
                        <div *ngIf="hideErrorMessage">
                      <div [hidden]="item.isPinValid" class="text-danger">
                        Pin Code is incorrect
                      </div>
</div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-4">

                    <div class="form-group">
                      <label for="pDOB">Proprietor Date of Birth </label>
                      <div class="input-group calender">

                        <input class="form-control" placeholder="yyyy-mm-dd" name="pDOB{{j}}" [(ngModel)]="item.dobDatePicker" ngbDatepicker #pDOB="ngbDatepicker"
                          [minDate]="minDateForDatePicker" [maxDate]="maxDate" [ngClass]="{'ng-invalid': !item.isDOBValid}">
                        <div class="input-group-append">
                          <button class="btn btn-outline-secondary" (click)="pDOB.toggle()" type="button">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div *ngIf="!item.isDOBValid" class=" text-danger">
                        Age Should be above 18 years
                      </div>
                    </div>

                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="pMNumber">Proprietor Mobile Number </label>
                      <input type="number" class="form-control" id="pMNumber{{j}}" placeholder="+91 " (change)="validateProprietor(item.ProprietorID,'mobile',j)"
                        [(ngModel)]="item.mobileNumber" name="pMNumber{{j}}" [ngClass]="{'ng-invalid': !item.isMobileValid}"
                        #pMNumber="ngModel">
                        <div *ngIf="hideErrorMessage">
                      <div *ngIf="!item.isMobileValid" class=" text-danger">
                        Mobile Number is not Valid
                      </div>

</div>  



                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="pemail">Proprietor Email id </label>
                      <input type="text" class="form-control" id="pemail{{j}}" maxlength="250" [(ngModel)]="item.emailId" name="pemail{{j}}" (change)="validateProprietor(item.ProprietorID,'email',j)"
                        #pemail="ngModel">
                        <div *ngIf="hideErrorMessage">
                      <div *ngIf="!item.isEmailValid" class="text-danger">
                        Email Id is incorrect
                      </div>
                        </div>
                      <!-- <div [hidden]="item.isEmailValid"
                                                             class="alert alert-danger">
                                                             Email-Id is incorrect
                                                        </div> -->
                    </div>
                  </div>
                </div>


              </div>

            </div>



          </div>

          <!-- End Proprietor Region -->

          <!-- Start Delivery Address Region -->
          <hr/>

          <h3 class="header mt-5">Delivery Location Details</h3>
          <div *ngFor="let item of deliveryAddressList;let i=index">
            <div class="row ">
              <div class="col-6">
                <h3 class="sub">Delivery Location {{i+1}}</h3>
              </div>
              <div class="col-6 text-right">
                <button type="button" (click)="removeDeliverySection(item.DeliveryID)" *ngIf="i >= 1" class="btn btn-outline-dark text-left ">
                  <i class="fa fa-trash" aria-hidden="true"></i> Remove</button>
                <button type="button" (click)="addNewDeliverySection()" class="btn btn-outline-primary"> Add Delivery Location</button>
              </div>

            </div>


            <div class="row ">
              <div class="col-7">
                <div class="row">
                  <div class="col-8">
                    <div class="form-group">
                      <label for="aLine1">Address line 1<span style="color:red">*</span> </label>
                      <input type="text" class="form-control" id="aLine1" maxlength="250" required (change)="validateDeliveryAdddress(item.DeliveryID,'aline1',i)"
                        [(ngModel)]="item.address.line1" name="aLine1{{i}}" #aLine1="ngModel">


                    </div>
                  </div>

                </div>
                <div class="row">
                  <div class="col-8">
                    <div class="form-group">
                      <label for="aLine2">Address line 2<span style="color:red">*</span></label>
                      <input type="text" class="form-control" id="aLine2" required maxlength="250" [(ngModel)]="item.address.line2" name="aLine2{{i}}"
                        #aLine2="ngModel">

                    </div>
                  </div>

                </div>
                <div class="row">
                  <div class="col-4">
                    <div class="form-group">
                      <label for="delState">State<span style="color:red">*</span></label>
                      <div class="select-box">
                        <label>
                          <select class="form-control form-control-sm" id="delState" required [(ngModel)]="item.address.state" name="delState{{i}}"
                            #delState="ngModel" (change)="validateDeliveryAdddress(item.DeliveryID,'state',i)">
                            <option [ngValue]="null">Select State</option>
                            <option *ngFor="let itemState of item.states" [value]="itemState._id">{{itemState.name}}</option>
                          </select>
                        </label>
                      </div>


                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="city">City<span style="color:red">*</span></label>
                      <div class="select-box">
                        <label>
                          <select class="form-control form-control-sm" id="city" required [disabled]="item.selectedCities.length === 0" [(ngModel)]="item.address.city"
                            name="city{{i}}" #city="ngModel" (change)="validateDeliveryAdddress(item.DeliveryID,'city',i)">
                            <option [ngValue]="null">Select City</option>
                            <option *ngFor="let city of item.selectedCities" [value]="city._id">{{city.name}}</option>
                          </select>
                        </label>
                      </div>
                      <!-- <div [hidden]="item.isCityValid"
    class="alert alert-danger">
    City is required
</div> -->



                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="pinCode">Pin Code<span style="color:red">*</span></label>
                      <input type="number" class="form-control" id="pinCode" maxlength="6" required [(ngModel)]="item.address.pincode" name="pinCode{{i}}"
                        (change)="validateDeliveryAdddress(item.DeliveryID,'pin',i)" #pinCode="ngModel" [ngClass]="{'ng-invalid':!item.isPinValid}">
                        <div *ngIf="hideErrorMessage">
                        <div [hidden]="item.isPinValid" class=" text-danger">
                        Pin Code is incorrect
                      </div>
                        </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-4">
                    <div class="form-group">
                      <label for="cPerson">Contact Person<span style="color:red">*</span> </label>
                      <input type="text" class="form-control" id="cPerson" maxlength="250" [(ngModel)]="item.contactPerson.name" name="cPerson{{i}}"
                        (change)="validateDeliveryAdddress(item.DeliveryID,'cPerson',i)" #cPerson="ngModel">

                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="designation">Designation<span style="color:red">*</span> </label>
                      <input type="text" class="form-control" id="designation" maxlength="250" [(ngModel)]="item.contactPerson.designation" name="designation{{i}}"
                        (change)="validateDeliveryAdddress(item.DeliveryID,'designation',i)" #designation="ngModel">

                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-4">

                    <div class="form-group">
                      <label for="dMNumber">Mobile Number<span style="color:red">*</span> </label>
                      <input type="number" class="form-control" id="dMNumber" maxlength="10" placeholder="+91 " (change)="validateDeliveryAdddress(item.DeliveryID,'mobile',i)"
                        [(ngModel)]="item.contactPerson.mobileNumber" name="dMNumber{{i}}" #dMNumber="ngModel" [ngClass]="{'ng-invalid' : !item.isMobileValid}">
                        <div *ngIf="hideErrorMessage">
                      <div *ngIf="!item.isMobileValid" class=" text-danger">
                        Mobile Number is not Valid
                      </div>

</div>




                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="dLNumber">Landline Number </label>
                      <input type="number" class="form-control" id="dLNumber" placeholder="+91 " [(ngModel)]="item.contactPerson.landLineNumber"
                        name="dLNumber{{i}}" #dLNumber="ngModel">







                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-group">
                      <label for="demail">Email Id<span style="color:red">*</span> </label>
                      <input type="text" class="form-control" id="demail" maxlength="250" [(ngModel)]="item.contactPerson.emailId" name="demail{{i}}"
                        (change)="validateDeliveryAdddress(item.DeliveryID,'email',i)" #demail="ngModel">
                        <div *ngIf="hideErrorMessage">
                      <div *ngIf="!item.isEmailValid" class=" text-danger">
                        Email Id is incorrect
                      </div>
                        </div>
                      <!-- <div [hidden]="item.isEmailValid"
         class="alert alert-danger">
         Email Id is incorrect
    </div>
    <div [hidden]="item.isEmailFilled"
         class="alert alert-danger">
         Email Id is required
    </div> -->

                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-4">
                    <div class="form-group">
                      <label for="exampleFormControlInput1">Location<span style="color:red">*</span></label>
                      <div class="select-box">
                        <label>
                            <select class="form-control form-control-sm" id="location" name="area{{i}}" required  [(ngModel)]="item.address.location"
                            name="city{{i}}" #city="ngModel" (change)="validateDeliveryAdddress(item.DeliveryID,'location',i)">
                            <option [ngValue]="null">Select Location</option>
                            <option *ngFor="let location of item.selectedLocations" [value]="location._id">{{location.name}}</option>
                          </select>
                          <!-- <select class="form-control form-control-sm" name="area{{i}}" required>
                            <option value="aa" selected="selected">Select Area</option>
                            <option value="aaa">Area 1 </option>
                          </select> -->
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12">
                    <div class="form-group">
                       

                        <label class="checkbox checkbox-primary">
                            <input type="checkbox" class="form-control" for="useAsInvoice" name="copyInvoice{{i}}"
                            #copyInvoice="ngModel" 
                            [(ngModel)]="item.useAsInvoice" 
                            (change)="copyInvoiceAddress(item.DeliveryID,item.useAsInvoice)"/>
                            <span class="check-mark"></span>
                          Use this as invoice address</label>
                        </div>
                    </div>
                    
                  
                </div>

              </div>
            </div>


          </div>
          <!-- End Delivery Address Region -->




          <!-- Start Invoice Address Region -->
          <hr/>
          <h3 class="header mt-5">Invoice Address</h3>
          <div class="row">
            <div class="col-7">
              <div class="row">
                <div class="col-8">
                  <div class="form-group">
                    <label for="aInvoiceLine1">Address line1<span style="color:red">*</span> </label>
                    <input type="text" class="form-control" id="aInvoiceLine1" required maxlength="250" [(ngModel)]="invoiceAddress.address.line1"
                      name="aInvoiceLine1" #aInvoiceLine1="ngModel">

                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-8">
                  <div class="form-group">
                    <label for="aInvoiceLine2">Address line 2<span style="color:red">*</span></label>
                    <input type="text" class="form-control" id="aInvoiceLine2" required maxlength="250" [(ngModel)]="invoiceAddress.address.line2"
                      name="aInvoiceLine2" #aInvoiceLine2="ngModel">

                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoiceState">State<span style="color:red">*</span></label>
                    <div class="select-box">
                      <label>
                        <select class="form-control form-control-sm" id="invoiceState" required (change)="validateInvoiceAddress('state','invoiceState')"
                          [(ngModel)]="invoiceAddress.address.state" name="invoiceState" #invoiceState="ngModel">
                          <option [ngValue]="null">Select State</option>
                          <option *ngFor="let itemState of invoiceAddress.states" [value]="itemState._id">{{itemState.name}}</option>
                        </select>
                      </label>
                    </div>
                    <div *ngIf="hideErrorMessage">
                    <div [hidden]="invoiceState.valid || invoiceState.pristine" class=" text-danger">
                      State is required
                    </div>
</div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoiceCity">City<span style="color:red">*</span></label>
                    <div class="select-box">
                      <label>
                        <select class="form-control form-control-sm" id="invoiceCity" required [disabled]="invoiceAddress.selectedCities.length === 0"
                          [(ngModel)]="invoiceAddress.address.city" name="invoiceCity" #invoiceCity="ngModel">
                          <option [ngValue]="null">Select City</option>
                          <option *ngFor="let city of invoiceAddress.selectedCities" [value]="city._id">{{city.name}}</option>
                        </select>
                      </label>
                    </div>
                    <!-- <div [hidden]="invoiceCity.valid || invoiceCity.pristine"
                                                class="alert alert-danger">
                                                City is required
                                                </div> -->



                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoicePinCode">Pin Code<span style="color:red">*</span> </label>
                    <input type="number" class="form-control" id="invoicePinCode" maxlength="6" required [(ngModel)]="invoiceAddress.address.pincode"
                      name="invoicePinCode" (change)="validateInvoiceAddress('pin','invoicePinCode')" #invoicePinCode="ngModel"
                      [ngClass]="{'ng-invalid' : !invoiceAddress.isPinValid }">
                      <div *ngIf="hideErrorMessage">
                    <div [hidden]="invoiceAddress.isPinValid" class="text-danger">
                      Pin Code is incorrect
                    </div>
                      </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoiceCPerson">Contact Person Name</label>
                    <input type="text" class="form-control" id="invoiceCPerson" maxlength="250" [(ngModel)]="invoiceAddress.contactPerson.name"
                      name="invoiceCPerson" #invoiceCPerson="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoiceMNumber">Contact Person Phone </label>
                    <input type="number" class="form-control" id="invoiceMNumber" maxlength="10" placeholder="+91 " (change)="validateInvoiceAddress('mobile','invoiceMNumber')"
                      [(ngModel)]="invoiceAddress.contactPerson.mobileNumber" name="invoiceMNumber" #invoiceMNumber="ngModel"
                      [ngClass]="{'ng-invalid' : !invoiceAddress.isMobileValid}">
                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="!invoiceAddress.isMobileValid" class=" text-danger">
                      Mobile Number is not Valid
                    </div>
                      </div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoiceEmail">Contact Person Email Id </label>
                    <input type="text" class="form-control" id="invoiceEmail" maxlength="250" (change)="validateInvoiceAddress('email','invoiceEmail')"
                      [(ngModel)]="invoiceAddress.contactPerson.emailId" name="invoiceEmail" #invoiceEmail="ngModel">
                      <div *ngIf="hideErrorMessage">
                    <div *ngIf="!invoiceAddress.isEmailValid" class=" text-danger">
                      Email Id is incorrect
                    </div>
                      </div>
                    <!-- <div [hidden]="item.isEmailValid"
                                                     class="alert alert-danger">
                                                     Email Id is incorrect
                                                </div>
                                                <div [hidden]="item.isEmailFilled"
                                                     class="alert alert-danger">
                                                     Email Id is required
                                                </div> -->
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-4">

                  <div class="form-group">
                    <label for="invoiceDesignation">Designation </label>
                    <input type="text" class="form-control" id="invoiceDesignation" maxlength="250" [(ngModel)]="invoiceAddress.contactPerson.designation"
                      name="invoiceDesignation" #invoiceDesignation="ngModel">

                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- End Invoice Address Region -->

          <!-- Start Bank Region -->
          <hr/>
          <h3 for="invoicePinCode" class="header mt-5">Bank Account Information </h3>

          <div class="row">
            <div class="col-7">
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="acHolderName">Account Holder Name<span style="color:red">*</span> </label>
                    <input type="text" class="form-control" id="acHolderName" maxlength="250" required [(ngModel)]="bankInfo.accountHolderName"
                      name="acHolderName" #acHolderName="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="acNumber">Account Number<span style="color:red">*</span> </label>
                    <input type="text" class="form-control" id="acNumber" maxlength="15" required [(ngModel)]="bankInfo.accountNumber" name="acNumber"
                      (change)="validateBankInfo('acNumberRe')" #acNumber="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="acNumberRe">Re-Enter Account Number<span style="color:red">*</span> </label>
                    <input type="text" class="form-control" id="acNumberRe" maxlength="15" required (change)="validateBankInfo('acNumberRe')"
                      [(ngModel)]="bankInfo.ReEnterAccountNumber" name="acNumberRe" #acNumberRe="ngModel" [ngClass]="{'ng-invalid' : !bankInfo.isReenterValid }">
                  </div>
                  <div *ngIf="hideErrorMessage">
                  <div *ngIf="!bankInfo.isReenterValid" class=" text-danger">
                    Account Number doesn't match
                  </div>
                  </div>
                </div>

              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="ifscCode">IFSC Code<span style="color:red">*</span> </label>
                    <input type="text" class="form-control" id="ifscCode" maxlength="15" required [(ngModel)]="bankInfo.ifscCode" name="ifscCode"
                      #ifscCode="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="accountType">A/C Type<span style="color:red">*</span></label>
                    <div class="select-box">
                      <label>
                        <select class="form-control form-control-sm" id="accountType" required [(ngModel)]="bankInfo.accountType" name="accountType"
                          #accountType="ngModel" aria-placeholder="select">
                          <option [ngValue]="null">Select  Account Type</option>
                          <option *ngFor="let bType of bankInfo.ACType" [value]="bType">{{bType}}</option>
                        </select>
                      </label>
                    </div>

                  </div>
                </div>

              </div>
              <div class="row">
                <div class="col-8">

                  <!-- <div class="form-group">
                                            <label for="chequeUpload">Upload Cancelled Cheque*</label>
                                            <label class="custom-file">
                                                    <input #cheque type="file" class="custom-file-input" name="chequeUpload" id="chequeUpload" 
                                                   required (change)="selectCheque($event.target.files,'cheque',0)"  [(ngModel)]="bankInfo.cancelledCheque"/>
                                                 <span class="custom-file-control"></span>
                                             </label>
                                             <div [hidden]="bankInfo.isChecqueValid"
                                             class=" text-danger">
                                             Please Upload Image Only
                                        </div>
                                             <div [hidden]="bankInfo.isChecqueSizeValid"
                                             class=" text-danger">
                                             File Size Exceeds 5 MB.
                                        </div>
                                         </div> -->

                  <div class="form-group">
                    <label for="chequeUpload">Upload Cancelled Cheque<span style="color:red">*</span></label>

                    <div class="input-group fileUpload">
                      <input type="text" class="form-control" id="displayName" placeholder="Choose file..." aria-label="Choose file..." #chequeName>
                      <span class="input-group-btn">
                        <span class="btn btn-primary">Browse</span>
                        <input id="uploadBtn" type="file" class="upload" #cheque name="chequeUpload" id="chequeUpload" required (change)="selectCheque($event.target.files,'cheque')"
                          [(ngModel)]="bankInfo.cancelledCheque" />
                      </span>
                    </div>
                    <div *ngIf="hideErrorMessage">
                    <span *ngIf="bankInfo.chequeImageUrl !=null && bankInfo.chequeImageUrl != undefined">
                        <a [href]="bankInfo.chequeImageUrl" download>Download Cheque</a>
                      </span>
                    <div [hidden]="bankInfo.isChecqueValid" class=" text-danger">
                      Please Upload files with correct format Only
                    </div>
                    <div [hidden]="bankInfo.isChecqueSizeValid" class=" text-danger">
                      File Size Exceeds 5 MB.
                    </div>

                    </div>

                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- End Bank Region -->

          <!-- Start Region Terms of Trade -->
          <hr/>
          <h3 class="header mt-5" for="invoicePinCode">Terms of Trade</h3>
          <div class="row">
            <div class="col-7">
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="bCheque">No of Blank Cheque received </label>
                    <input type="number" class="form-control" id="bCheque" [pattern]="noDecimal" [(ngModel)]="termOfTrade.numberOfBlankChequeReceived"
                      name="bCheque" #bCheque="ngModel">
                    <div *ngIf="bCheque.errors?.pattern" class="text-danger">
                      Decimal numbers are not Allowed
                    </div>

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="emdCheque">EMD Cheque Number </label>
                    <input type="text" class="form-control" id="emdCheque" maxlength="50" [(ngModel)]="termOfTrade.chequeNumber" name="emdCheque"
                      #emdCheque="ngModel">

                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="exampleFormControlInput1">EMD Cheque Date

                    </label>
                    <input type="date" class="form-control" [(ngModel)]="termOfTrade.chequeDate" name="chequeDate" #chequeDate="ngModel" id="chequeDate">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="pMode">Mode of Payment details
                    </label>
                    <input type="text" class="form-control" id="pMode" maxlength="50" [(ngModel)]="termOfTrade.modeOfPaymentDetails" name="pMode"
                      #pMode="ngModel">

                  </div>
                </div>
                <div class="col-8">
                  <div class="form-group">
                    <label for="cPartner">Name of Common Partner / Associate </label>
                    <input type="text" class="form-control" id="cPartner" maxlength="250" [(ngModel)]="termOfTrade.nameOfCommonPartner" name="cPartner"
                      #cPartner="ngModel">

                  </div>
                </div>

              </div>
              <div class="row">
                <div class="col-4">

                  <div class="form-group">
                    <label for="cLimit">Credit Limit &#8377;</label>
                    <input type="number" class="form-control" id="cLimit" [pattern]='decimalUptoTwo' [(ngModel)]="termOfTrade.creditLimit" name="cLimit"
                      #cLimit="ngModel">
                    <div *ngIf="cLimit.errors?.pattern" class=" text-danger">
                      Decimal numbers upto 2 digits are only Allowed
                    </div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="cDayLimit">Credit Days Limit </label>
                    <input type="number" class="form-control" id="cDayLimit" [pattern]="noDecimal" [(ngModel)]="termOfTrade.creditPeriod" name="cDayLimit"
                      #cDayLimit="ngModel">
                    <div *ngIf="cDayLimit.errors?.pattern" class=" text-danger">
                      Decimal numbers are not Allowed
                    </div>

                  </div>

                </div>
              </div>
              <div class="row">
                <div class="col-12"> 
                  <div class="form-group">
                    <label class="checkbox checkbox-primary">
                      <input type="checkbox">
                      <span class="check-mark"></span> Authorize mSupply to access CIBIL records


                    </label>
                  </div>
                </div>
              </div>




            </div>

          </div>


          <!-- End Region Terms of Trade -->

          <!-- Start Other Info Region -->
          <hr/>
          <h3 class="header mt-5" for="invoicePinCode">Other Information </h3>

          <div class="row">
            <div class="col-9">
              <div class="row">
                <div class="col-3">
                  <div class="form-group">
                    <label for="bSoftware">Billing Software </label>
                    <input type="text" class="form-control" id="bSoftware" maxlength="250" [(ngModel)]="otherInfo.billingSoftware" name="bSoftware"
                      #bSoftware="ngModel">
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group">
                    <label for="turnOver">Turnover </label>
                    <input type="text" class="form-control" id="turnOver" maxlength="50" [(ngModel)]="otherInfo.turnOver" name="turnOver" #turnOver="ngModel">
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group">
                    <label for="salePerson">Sales Person Name</label>
                    <div class="select-box">
                      <label>
                        <select class="form-control form-control-sm" id="salesPerson" [(ngModel)]="otherInfo.salesPerson._id" name="salesPerson" #salesPerson="ngModel">
                          <option [ngValue]="null">Select Sales Person</option>
                          <option *ngFor="let item of newCompanyDetails.otherInformation.salesPersonList" [value]="item._id">{{item.name}}</option>
                          <!-- <option *ngFor="let itemState of item.states" [value]="itemState._id">{{itemState.name}}</option> -->
                        </select>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <!-- start current Product Region -->
              <div *ngFor="let item of curProdDetails;let i=index">
                <div class="row">
                  <div class="col-3">

                    <div class="form-group">
                      <label for="prodName">Current Product Category</label>
                      <input type="text" class="form-control" id="prodName" maxlength="250" [(ngModel)]="item.category" name="prodName{{i}}" #prodName="ngModel">
                    </div>
                  </div>
                  <div class="col-3">
                    <div class="form-group">
                      <label for="prodBrand">Brand</label>
                      <input type="text" class="form-control" id="prodBrand" maxlength="250" [(ngModel)]="item.brand" name="prodBrand{{i}}" #prodBrand="ngModel">
                    </div>
                  </div>
                  <div class="col-3">
                    <div class="form-group">
                      <label for="sale">Sale In INR </label>
                      <input type="number" class="form-control" id="sale" [pattern]='decimalUptoTwo' [(ngModel)]="item.sale" name="sale{{i}}" #sale="ngModel">
                      <div *ngIf="sale.errors?.pattern" class="text-danger">
                        Decimal numbers upto 2 digits are only Allowed
                      </div>
                    </div>
                  </div>
                  <div class="col-3  align-self-center">
                    <div class="form-group mb-0">
                      <a (click)="deleteCurrentProducts(item.ProductId)" *ngIf="i >= 1" class=" btn-minus" role="button" aria-pressed="true">
                        <i class="fa fa-minus-circle" aria-hidden="true"></i>
                      </a>
                      <a class=" btn-plus ml-3" role="button" aria-pressed="true" (click)="addCurrentProducts()">
                        <i class="fa fa-plus-circle" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>

              </div>
              <!-- End Current Product Region -->
            </div>
          </div>

          <!-- End Other Info Region -->

          <!--  Start Region Document & Attachments -->
          <hr/>

          <h3 class="header mt-5" for="documentAttachment">Documents &amp; Attachments</h3>

          <div class="row">
            <div class="col-9">
              <div *ngFor="let item of docAttach;let i=index">
                <div class="row">
                  <div class="col-1 align-self-center">{{i +1 }}</div>
                  <div class="col-3">
                    <div class="form-group">
                      <label for="docName">Document Name</label>
                      <input type="text" class="form-control" id="docName" maxlength="250" [(ngModel)]="item.documentName" name="docName{{i}}"
                        #docName="ngModel">
                    </div>
                  </div>
                  <div class="col-5">
                    <div class="form-group">
                      <label for="exampleFormControlInput1">Upload Document</label>

                      <div class="input-group fileUpload">

                        <input type="text" class="form-control" #uploadDocNames id="" placeholder="Choose file..." aria-label="Choose file...">
                        <span class="input-group-btn">
                          <span class="btn btn-primary">Browse</span>
                          <input id="uploadBtn" type="file" name="docUpload{{i}}" id="docUpload{{i}}" (change)="uploadMultiplefileSelect($event.target.files,item.DocId)"
                            [(ngModel)]="FileData" #uploadDoc="ngModel" class="upload" />
                        </span>

                      </div>
                      <span ><a [href]="item.fileUrl" download *ngIf="item.fileUrl != null && item.fileUrl != undefined">Download File</a></span>

                      <output id="uploadedDoc"></output>
                      <div *ngIf="hideErrorMessage">
                      <div [hidden]="item.isDocValid" class=" text-danger">
                        Please Upload files with correct format Only
                      </div>
                      <div [hidden]="item.isDocSizeValid" class=" text-danger">
                        File Size Exceeds 5 MB.
                      </div>
                      </div>
                    </div>

                  </div>
                  <div class="col-3  align-self-center">
                    <div class="form-group mb-0">
                      <a (click)="deleteDocumentAttachment(item.DocId)" *ngIf="i >= 1" class=" btn-minus" role="button" aria-pressed="true">
                        <i class="fa fa-minus-circle" aria-hidden="true"></i>
                      </a>
                      <a (click)="addDocumentAttachment()" class=" btn-plus ml-3" role="button" aria-pressed="true">
                        <i class="fa fa-plus-circle" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>

                </div>

              </div>
              <!--End Region Document & Attachments -->
            </div>




          </div>









          <!-- End Basic Details Section -->
















          <div class="mt-5 text-center">
            <!--<span style="color:red">Enter Valid Values in all Fields</span>-->
            <button type="submit" (click)="SaveDetails()" [disabled]="!buyerForm.form.valid" class="btn btn-primary">SUBMIT

            </button>
            <button type="button" *ngIf="showNextProductButton" (click)="ShowBuyerProductMapping()" class="btn btn-primary">Add/Edit Products
            </button>
          </div>


          <!-- {{buyerForm.form.valid}} -->
        </form>


      </div>

    </div>
  </div>
</div>

<div [hidden]="!ShowBuyerProductMappingSection" class="">
  <div class="container-fulid container-body">
    <div class="row mx-0">
      <div class="col-6">
        <h2>Buyer Registration</h2>
      </div>
    </div>
    <div class=" bs-wizard row mx-5 justify-content-md-center">
      <div class="col-4 bs-wizard-step ">
        <a href="Parent_AddSellerVideo.html"></a>
        <div class="progress">
          <div class="progress-bar"></div>
        </div>
        <a  class="bs-wizard-dot"></a>
        <div class="bs-wizard-info text-center">BASIC DETAILS</div>
      </div>
      <div class="col-4 bs-wizard-step active">
        <!-- complete -->
        <div class="progress">
          <div class="progress-bar"></div>
        </div>
        <a  class="bs-wizard-dot"></a>
        <div class="bs-wizard-info text-center">PRODUCT DETAILS</div>
      </div>
      <div class="col-4 bs-wizard-step " *ngIf="false">
        <!-- complete -->
        <div class="progress">
          <div class="progress-bar"></div>
        </div>
        <a  class="bs-wizard-dot"></a>
        <div class="bs-wizard-info text-center">BUYER EVALUATION</div>
      </div>
    </div>
    <div class="card-body content-card-body ">
      <div class="form-one">
        <div class="row justify-content-md-center">
          <div class="col col-lg-2">
            <div class="form-group">
              <label for="exampleInputEmail1">Select Manufacturer
              </label>
              <!-- <div class="select-box">
                             <label>
                                <select class="form-control form-control-sm">
                                   <option value="aa" selected="selected">Select</option>
                                   <option value="aaa">Rawlplug Industries</option>
                                   <option value="aaa">Chiripal Industries Ltd</option>
                                   <option value="aaa">Flyocrete Manufacturers</option>
                                   <option value="aaa">Zandros Granito</option>
                                </select>
                             </label>
                          </div> -->
              <div class="select-box">
                <label>
                  <select class="form-control form-control-sm" id="manufactuer" (change)="GetProductsByManufacturer()" [(ngModel)]="selectedManufacturer">
                    <option value="" disabled selected>Select Manufacturer</option>
                    <option *ngFor="let manufacturer of manufacturerList.manufacturers" [value]="manufacturer._id">{{manufacturer.companyName}}</option>
                  </select>
                </label>
              </div>
            </div>
          </div>
          <div class="col col-lg-4 search-icon">
            <label for="exampleInputEmail1">
            </label>
            <div class="input-group ">
              <input class="form-control border-right-0" placeholder="Search by Product Name" [(ngModel)]="compnaySearchPhrase"  (keyup)="SearchByCompnay($event)"> 
              <span class="input-group-addon bg-white border-left-0">
                <i class="fa fa-search"></i>
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="manufacturerProducts">
        <div class="col col-auto">
          <div class="font-weight-bold color-grey-off">
            Total Products -
            <span class="color-black-off">{{manufacturerProducts.products.length}}</span>
          </div>
        </div>
        <div class="col col-auto">
          <div class="font-weight-bold color-grey-off" style="display:none">
            Selected Products -
            <span class="color-black-off">{{selectedCount}}</span>
          </div>
        </div>
      </div>

      <div class="table-responsive">
        <table *ngIf="selectedManufacturer == ''" class="table table-striped table-One">

          <tbody>
            <tr>
              <td class="align-middle color-grey-off" colspan="9" style="height:200px;">No products to display. Please select a manufacturer to get the list of products.</td>
            </tr>

          </tbody>
        </table>
        <table *ngIf="selectedManufacturer != '' && manufacturerProducts" class="table table-striped text-left table-One border-one">
          <thead>
            <tr>
              <th scope="col">
                <label class="checkbox checkbox-primary">
                  <input type="checkbox" [(ngModel)]="selectAllProducts" (change)="selectAll(selectAllProducts)">
                  <span class="check-mark"></span>
                </label>
              </th>
              <th scope="col">Category</th>
              <th scope="col">Sub Category</th>
              <th scope="col">Product Name</th>
              <th scope="col">Type</th>
              <th scope="col" class="">UOM</th>
              <th scope="col" class="">Brand</th>
              <!-- <th scope="col" class="">Grad/Spec</th> -->
              <th scope="col" class="">Status</th>
              <th scope="col" class="">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of manufacturerProducts.products; let i=index">
              <td>
                <label class="checkbox checkbox-primary">
                  <!-- <input type="checkbox"> -->
                  <input type="checkbox" [checked]="product.isChecked"  (change)="product.isChecked = !product.isChecked;selectProduct(product.isChecked)" />
                  <span class="check-mark"></span>
                </label>
              </td>
              <td> {{product.category.name}}</td>
              <td>{{product.subCategory.name}}</td>
              <td> {{product.name}}</td>
              <td> {{product.type.name}}</td>
              <td> {{product.uom}}</td>
              <td> {{product.brand.name}}</td>
              <!-- <td>8 mm</td> -->
              <td>
                {{product.status}}
                <!-- <div class="custom-slid-checkbox">
                                <input type="checkbox" class="toggle-two" checked>
                             </div> -->
              </td>
              <td>
                 
                <button [disabled]="!product.isChecked" (click)="LinkBuyerProductPriceZone(i)" 
                class="linkbutton" style="background:none!important;
                border:none; 
                padding:0!important;
               
               /*optional*/
               font-family:arial,sans-serif; /*input has OS specific font-family*/
                color:#069;
                text-decoration:underline;
                cursor:pointer;">Link Pricing Zone</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="container-fulid">
        <div class=" my-3">
          <div class="col text-center">
            <button type="button" class="btn btn-outline-primary" [hidden]="true">Update Product List</button>
            <button type="button" class="btn btn-outline-primary"  (click)="ShowBuyerPanel()">Back</button>
            <button type="button" class="btn btn-primary" (click)="saveAndUpdateProducts()">SUBMIT</button>
          </div>
        </div>
      </div>
      .....
    </div>
  </div>
</div>